CHAMPS=$(find ./ch -name '*.cor' | cut -c 3-)
for CHAMP in $CHAMPS
do

    tr < output -d '\000' > output
    tr < output_original -d '\000' > output_original
	./corewar_original -d $1 $CHAMP | tail -64 | cut -c10- > output_original
	./corewar -dump $1 $CHAMP | tail -65 | head -n 64 > output
	DIFF=$(diff -a output output_original)
#	if [ "$CHAMP" = "ch/lou_forktologue.cor" ]
#	then
#		exit;
#	fi;
	if [ "$DIFF" ]
	then
		printf "\e[1;31mKO\e[0m "
	else
		printf "\e[1;32mOK\e[0m "
	fi
	echo $CHAMP
done
